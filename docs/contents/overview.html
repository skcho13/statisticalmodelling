<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungkyun Cho">
<meta name="dcterms.date" content="2023-02-11">

<title>CHA Stats in R - Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Overview</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">CHA Stats in R</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">R tutorial</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/setup.html" class="sidebar-item-text sidebar-link">Setup</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/baser.html" class="sidebar-item-text sidebar-link">Base R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/tidyverse.html" class="sidebar-item-text sidebar-link">Tidyverse</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/visualize.html" class="sidebar-item-text sidebar-link">Visualize</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Statistics</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/overview.html" class="sidebar-item-text sidebar-link active">Overview</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#descriptive-기술적-분석" id="toc-descriptive-기술적-분석" class="nav-link active" data-scroll-target="#descriptive-기술적-분석">Descriptive: 기술적 분석</a></li>
  <li><a href="#relational-변수들-간의-진실한-관계를-분석" id="toc-relational-변수들-간의-진실한-관계를-분석" class="nav-link" data-scroll-target="#relational-변수들-간의-진실한-관계를-분석">Relational: 변수들 간의 진실한 관계를 분석</a>
  <ul>
  <li><a href="#case-1" id="toc-case-1" class="nav-link" data-scroll-target="#case-1">Case 1</a></li>
  <li><a href="#case-2" id="toc-case-2" class="nav-link" data-scroll-target="#case-2">Case 2</a></li>
  <li><a href="#case-3" id="toc-case-3" class="nav-link" data-scroll-target="#case-3">Case 3</a>
  <ul class="collapse">
  <li><a href="#prediction-vs.-intervention" id="toc-prediction-vs.-intervention" class="nav-link" data-scroll-target="#prediction-vs.-intervention"><strong>Prediction vs.&nbsp;intervention</strong></a></li>
  <li><a href="#the-strength-of-relationships" id="toc-the-strength-of-relationships" class="nav-link" data-scroll-target="#the-strength-of-relationships"><strong>The strength of relationships</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#causal-인과관계의-분석" id="toc-causal-인과관계의-분석" class="nav-link" data-scroll-target="#causal-인과관계의-분석">Causal: 인과관계의 분석</a>
  <ul>
  <li><a href="#case-1-1" id="toc-case-1-1" class="nav-link" data-scroll-target="#case-1-1">Case 1</a></li>
  <li><a href="#case-2-1" id="toc-case-2-1" class="nav-link" data-scroll-target="#case-2-1">Case 2</a></li>
  </ul></li>
  <li><a href="#uncertainty" id="toc-uncertainty" class="nav-link" data-scroll-target="#uncertainty">Uncertainty</a></li>
  <li><a href="#그-외" id="toc-그-외" class="nav-link" data-scroll-target="#그-외">그 외</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Overview</h1>
<p class="subtitle lead">Mixed</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungkyun Cho </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>이번 섹션에서는 통계가 어떻게 활용되는지에 대한 전반적인 landscape을 소개하고자 하며,<br>
여기에서 다루는 내용을 모두 수업에서 다룬다는 것은 <strong>절대</strong> 아님!</p>
<p>통계가 활용되는 방식은 크게 3가지로 나누어 볼 수 있음</p>
<ol type="1">
<li>기술적 분석 (descriptive)</li>
<li>변수들 간의 진실한 관계를 분석 (relational)</li>
<li>인과 관계의 파악과 개입 (causual)</li>
</ol>
<section id="descriptive-기술적-분석" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-기술적-분석">Descriptive: 기술적 분석</h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>통계청의 조사 결과와 같이 현상에 대한 기술 <br><br>
단순한 기술은 자칫 오해의 여지와 호도할 위험이 존재<br>
예를 들어,<br>
- 남녀 임금의 차이에 대한 통계치를 제시하는 경우<br>
- 외국의 경우, 인종별 범죄율에 대한 통계치 등등 <br><br>
만일, 좀 더 자세히 나눠어서, 연령별, 직업군별로 남녀 임금의 차이를 본다면 만족스러운가?<br>
얼마나 더 상세히 나누어야 하는가?<br>
그 차이는 의미있는 차이인가?</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/wage.png" class="img-fluid" width="300"></p>
</div>
</div>
</div>
</section>
<section id="relational-변수들-간의-진실한-관계를-분석" class="level2">
<h2 class="anchored" data-anchor-id="relational-변수들-간의-진실한-관계를-분석">Relational: 변수들 간의 진실한 관계를 분석</h2>
<section id="case-1" class="level3">
<h3 class="anchored" data-anchor-id="case-1">Case 1</h3>
<p>미혼자에 대한 임금 <strong>차별</strong>이 있는가? 차별이 의미하는 바는 무엇인가?</p>
<p>아래 첫번째 그림과 같이 기혼자의 임금이 미혼자에 보다 높은 것으로 나타났다면,<br>
이는 정말 결혼하지 않은 것이 임금을 책정하는데 영향을 주었는가?</p>
<p>하지만, 당연하게도 기혼자는 미혼자에 비해 연령이 높으며 (두번째 그림),<br>
높은 연령은 연차가 높거나 실무능력이 뛰어난 경향으로 인해 임금을 높을 수 있다는 것을 감안하면 (세번째 그림)<br>
<strong>차별</strong>처럼 보이는 차이는 차별이라고 볼 수 없을 수도 있음.</p>
<p>다시 말하면, <strong>연령을 고려한 후</strong>에도 기혼자의 임금은 미혼자보다 높은가?<br>
여전히 높다면, 연령을 고려한 후 혹은 연령을 조정한 후(adjusted for age)의 차이는 얼마라고 봐야하는가?</p>
<p>연령을 고려한 임금 차이를 조사하는 방법은 무엇이 있겠는가?</p>
<ul>
<li>연령별로 나누어 비교?</li>
</ul>
<p><em>Data from the 1985 Current Population Survey</em></p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="17">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-4-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>연령을 고려한 마라톤 기록?<br>
70세 노인의 기록 2시간 30분과 20세 청년의 2시간 30분은 마라톤 실력이라는 관점에서 다르게 볼 수도 있음<br>
예를 들어, “나이 차이가 큰 두 사람의 기록을 비교하는 것은 공평하지 않아”라는 주장에 대해서, 80세 노인의 기록은 “나이를 감안하면 2시간 10분에 해당한다”고 답변할 수 있음<br>
다시 말하면, 나이와는 <strong>무관한/독립적인</strong> 마라톤 능력에 대해 말할 수 있음<br>
이는 동일한 나이의 사람들로만 제한해서 마라톤 기록을 비교하는 것이 공평한 능력의 비교라고 말하는 것과 것이 같은 이치임</p>
<p><img src="images/marathon.png" class="img-fluid" width="400"><br>
Source: <a href="https://doi.org/10.1186/2052-1847-6-31">https://doi.org/10.1186/2052-1847-6-31</a></p>
</section>
<section id="case-2" class="level3">
<h3 class="anchored" data-anchor-id="case-2">Case 2</h3>
<p>기혼여부에 따른 임금의 차이가 남녀별로 다른가?<br>
연령이 올라감에 따라 임금이 올라가는 패턴에 차이가 있는가?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="20">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>왼편 그림에서 보면, 기혼여부에 따른 임금의 차이가 남녀에 따라 다르게 나타나는 것으로 보임<br>
이러한 현상을 변수 간에 <strong>상호작용(interaction)</strong>이 있다고 말함 (moderate라는 표현도 있음)<br>
말하지면, 기혼여부가 임금에 주는 효과가 성별에 따라 바뀌고, 기혼여부와 성별이 상호작용하여 임금에 영향을 준다라고 표현할 수 있음 (2-way interaction)</p>
<p>비슷하게, 오른편을 보면, 연령에 따른 임금의 증가 패턴이 남녀에 따라서, 업종에 따라 다르게 나타나는 것으로 보임<br>
(manag: management, manuf: manufacturing, prof: professional)<br>
즉, 연령이 임금에 미치는 효과는 성별과 업종에 따라 바뀌고, 연령, 성별, 업종이 상호작용하여 임금에 영향을 준다라고 표현할 수 있음 (3-way interaction)</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>위의 표현은 모두 효과를 가정한 표현으로 설명을 위해 편의상 그렇게 표현하였음<br>
또한, 다른 요소들은 단순화를 위해 생략했음. 예를 들어 왼편의 상황에서 나이를 고려하면 다른 양상을 보일 수 있음</p>
</div>
</div>
<p>또 다른 예로는, 나이가 듦(age)에 따라 지구력(endurance)의 감소가 강도 높은 운동을 한 기간(년수)(exercise)에 따라 변화한다는 가설을 테스트한 자료</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="22">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-6-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>이 경우 운동을 한 기간은 앞의 예에서처럼 카테고리 변수가 아니기 때문에 임의로 3구간으로 나누어 살펴 본 것임.<br>
나이가 지구력에 미치는 부정적 영향이 운동을 한 기간에 따라 변하는 것으로 보임.<br>
즉, 나이와 운동기간이 <strong>상호작용</strong>하여 지구력에 영향을 미친다고 표현할 수 있음</p>
<p>상호작용은 아래와 같이 상호작용하는 두 변수의 위치를 바꿔 살펴볼 수도 있음</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="23">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>시각화를 통해 전반적인 패턴을 살펴보는 것은 통계적 모형을 세워 수학적으로 분석하기 전에 하는 보조 수단임.<br>
앞에 마라톤 기록의 예처럼 실제 분석은 한 변수를 고려한 후 다른 변수의 변화를 계산하는 방식으로 분석을 하는 것이지, 나이별로 자료를 나누어 보지 않듯이, 운동기간을 위에서처럼 구간으로 쪼개어 분석하는 것은 아님.</p>
</div>
</div>
</section>
<section id="case-3" class="level3">
<h3 class="anchored" data-anchor-id="case-3">Case 3</h3>
<p>임금이 증가하면 삶의 만족도가 높아지는가? 아마도?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="27">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-8-output-1.png" class="img-fluid"></p>
</div>
</div>
<p><img src="images/snu.png" class="img-fluid" width="400"><br>
하지만, 특정 A의 임금이 <em>p</em> 에서 <em>q</em> 로 증가할 때, 트렌드대로 움직이겠는가?<br>
혹은, 특정 B의 임금이 <em>r</em> 에서 <em>s</em> 로 감소할 때, 트렌드대로 움직이겠는가?<br>
개인의 변화를 살펴보는 <strong>종단연구(logitudinal)</strong>로 그 갭을 채울 수 있음</p>
<p>하지만, 그럴지라도 임금으로 <strong>“인해”</strong> 삶의 만족도가 올라가느냐는 다른 문제임 &gt;&gt; <strong>인과관계</strong>의 문제</p>
<ul>
<li>예를 들어, 연봉의 증가가 삶의 만족도를 올렸다기 보다는 상대적 비교에서 오는 자존감이 증가했기 때문일 수 있음</li>
<li>연봉이 높은 곳은 직업 특성이 다를 수 있음</li>
<li>또는, 인맥과 인간관계의 변화에서 오는 차이일 수도 있음</li>
</ul>
<p>다른 시각에서 보면,<br>
현재 A의 연봉 2천만원을 갑자기 4천만으로 올리면 삶의 만족도가 트렌드대로 0.8pt 올라가겠는가?</p>
<ul>
<li>연봉의 증가는 주변의 시기와 질투를 가져와 인관관계에 영향을 줄 수 있음<br>
</li>
<li>본인의 자만은 여러 부정적 결과를 초래할 수 있음</li>
</ul>
<section id="prediction-vs.-intervention" class="level4">
<h4 class="anchored" data-anchor-id="prediction-vs.-intervention"><strong>Prediction vs.&nbsp;intervention</strong></h4>
<ul>
<li>A의 임금이 <strong>올라가면</strong> 삶의 만족도가 따라서 올라갈 것이라고 (조심스럽게) <strong>예측</strong>할 수는 있으나: <strong>association</strong>
<ul>
<li>좀 더 정확히 말하면, 임금이 높은 것은 삶의 만족도가 높은 것과 연관이 있다라고 표현</li>
<li>“올라가면”이라는 표현은 시간 개념을 포함한 것이라 횡단(cross-sectional) 데이터에서는 부적절</li>
</ul></li>
<li>A의 임금을 <strong>올리면</strong> 삶의 만족도가 올라갈 것이라고 단정할 수 없음: <strong>causal</strong></li>
<li>Intervention이 효과가 있으려면, 적어도 진정한 관계를 파악해야만 하며, 더 나아가 인과관계가 만족해야 함.</li>
<li>진정한 관계의 문제와 인과의 문제는 서로 엮여 있으며 복잡한 문제임.
<ul>
<li>예를 들어, 오렌지를 섭취하면 괴혈병이 예방되나 사실은 비타민 C의 섭취가 괴혈병을 예방하는 것임<br>
만약, 장거리 항해에서 상급자(높은 연령)에게만 과일이 제공되어 괴혈병이 덜 생겼다는 현상으로부터 연령과 괴혈병의 관계를 추론해서는 안됨<br>
<img src="images/mediation.png" class="img-fluid" width="250"><br>
</li>
<li>또는, 신앙심이 깊은 노인들의 수명이 더 길다는 현상이 관찰되었을 때, 신앙심 자체가 심리적으로나 신체적으로 긍정적인 효과를 가질 수 있으나, 그 외에도 신앙 활동의 일부로 활동이 늘고 다른 이와의 긍정적 교류가 건강에 영향을 미쳤을 수도 있음.<br>
<img src="images/indirect.png" class="img-fluid" width="280"><br>
이 때, 신앙심과 수명과는 진정한 관계가 있다고 볼 수 있으나 그 인과 관계에 대해서도 좀 더 깊은 논의가 필요함.<br>
다시 말하면, 어떤 노인에게 신앙을 권유했을 때, 수명이 연장되었을지라도 신앙심이 수명을 연장시킨 것인가는 별개의 논의임.</li>
</ul></li>
</ul>
</section>
<section id="the-strength-of-relationships" class="level4">
<h4 class="anchored" data-anchor-id="the-strength-of-relationships"><strong>The strength of relationships</strong></h4>
<p>변수들간의 관계와 그 관계의 크기(stength)는 중요하게 구별될 필요가 있음<br>
아래 두 그림은 변수 간의 관계는 동일하나 그 크기에 차이가 있음<br>
오른쪽 그림에서 연봉으로 그 사람의 삶의 만족도 지수를 더 정확히 예측할 수 있으며, 이를 설명력이 높다고 표현<br>
보통 이 효과의 크기가 클수록 인과관계일 가능성은 높다고 볼 수 있으며,<br>
왼쪽 박스에서 처럼 variability가 높다는 것은 다른 이유가 있을 가능성이 높음</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="10">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>진정한 관계를 탐구하는 것이 어려움에도 불구하고, 관계성을 파악함으로써 통찰을 얻을 수 있음.</p>
<iframe src="https://ourworldindata.org/grapher/children-per-woman-fertility-rate-vs-level-of-prosperity" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
</div>
</div>
<p>복잡한 변수와의 관계를 풀어내려고 노력<br>
Source: <em>Multiple Regression and Beyond</em> by Timothy Z. Keith</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/path1.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/path4.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
</section>
</section>
<section id="causal-인과관계의-분석" class="level2">
<h2 class="anchored" data-anchor-id="causal-인과관계의-분석">Causal: 인과관계의 분석</h2>
<p>위에서 살펴본 것들은 모두 연구자가 개입하지 않고 관찰만으로 이루어진 분석들임<br>
논의한 것처럼 관찰된 자료로부터 진실된 관계를 파악하는 것은 매우 정교한 분석이 요구되고 많은 요소들을 고려해야 함.<br>
좀 더 분명한 관계를 파악하기 위해 실험 연구가 요구되곤 함<br>
하지만, 많은 경우 실험이 불가능할 뿐 아니라,<br>
실험이 반드시 최선이 것은 아니며, 실험은 나름데로 약점을 갖고 있음.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<strong>Confounding</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<p>일반적으로, 표면적으로 드러난 변수간의 관계가 숨겨진 다른 변수(lurking third variable)에 의해 매개되어 있어 진실한 관계가 아닌 경우, confounding 혹은 confounder가 존재한다고 함.<br>
사회과학에서 오래된 가장 핵심적인 문제이나 최근까지도 정확히 정의하기 어려움 개념이었음.<br>
<strong>Causal analysis</strong>라는 통계와는 별개의 개념으로 발전되어 최근에야 이론적으로 완성이 되어 관심이 높아짐.</p>
<p>극단적이지만 이해하지 쉬운 예로는</p>
<ul>
<li>초등학생 발 사이즈 → 독해력<br>
</li>
<li>머리 길이 → 우울증</li>
</ul>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Answer!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="images/confounding.png" class="img-fluid" width="450"></p>
</div>
</div>
</div>
<p>맨 처음 든 예도 마찬가지로   <img src="images/path3.png" class="img-fluid" width="210"></p>
<p>올바른 관계를 파악하려면, 동일한 나이에 대해 그 관계를 파악한 후 각 나이에서의 효과를 (weighted) 평균해서 살펴봐야함</p>
<p>통계에서는 이를 나이를 <strong>통제 (control for age)</strong>한다고 표현하며, 같은 의미로 다음과 같은 표현을 씀<br>
나이를 <strong>고려</strong>했을 때; <strong>account for</strong> age<br>
나이를 <strong>조정</strong>했을 때; <strong>adjust for</strong> age<br>
나이를 <strong>잔차화</strong>했을 때; <strong>residualize</strong> age<br>
나이의 변량을 넘어서서; <strong>above and beyond</strong> age</p>
<p><strong>Simpson’s paradox</strong></p>
<p>아래 첫번째 그림은 집단 전체에 대한 플랏이고, 두번째 그림은 나이대별로 나누어 본 플랏<br>
전체 집단을 보면 운동을 많이 할수록 콜레스테롤이 증가하는 것으로 보이나,<br>
나이대별로 보면, 상식적으로 운동이 긍정적 효과가 나타남.<br>
왜 그렇게 나타나는가?</p>
<p><img src="images/simpson.jpg" class="img-fluid" width="600"><br>
Source: <em>The book of why</em> by Judea Pearl</p>
<p>관찰 데이터로부터 진정한 관계를 파악하기 위해서는 이와 같은 <strong>통계적인 통제</strong>를 통해 혹은 <strong>인과분석</strong>이라는 좀 더 큰 프레임에서 분석해야 하며, 깊은 논의가 필요함</p>
<p>마지막 예를 들면,<br>
은퇴한 노인들을 대상으로 규칙적인 걷기가 사망율을 감소시킬 것이라는 가설을 확인하기 위해 1965년 이후 8000명 가량의 남성들을 추적조사한 데이터의 일부를 이용했는데,<br>
Source: <em>The book of why</em> by Judea Pearl</p>
<ul>
<li>12년 후 사망율에서 casual walker(하루 1마일 이하)와 intense walker(하루 2마일 이상)가 각각 43%, 21.5%로 나타났음.</li>
<li>이 걷기의 효과를 의심케 하는 요소들(<strong>confounding</strong>)은 무엇인가?</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Answers!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>건강이 나빠 많이 걷지 못했을 수도…</li>
<li>많이 걷는 사람은 상대적으로 젊을 수도…</li>
<li>많이 먹는 사람이 덜 걸을 수도…</li>
<li>술을 많이 먹는 사람이 덜 걸을 수도…</li>
</ul>
</div>
</div>
</div>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>무수히 많이 생각해볼 수 있는 confounding 요소들을 다 고려해야 하는가?<br>
Yes and No!</p>
<p>실제 저자들도 다음과 같이 기술<br>
“Of course, the <strong>effects</strong> on longevity of intentional efforts to increase the distance walked per day by physically capable older men <strong>cannot be addressed</strong> in our study.”</p>
<p>이러한 조심성은 의미있느나 너무 과장될 필요는 없음<br>
소위 중요 역할을 할 것으로 의심되는 confounding을 충분히 통계적으로 고려/통제했다면, 충분히 인과관계 혹은 intervention을 제안할 수 있으며,<br>
그러한 연구는 어떤 요소들을 고려했는지에 대해 밝힘으로써 추후 연구에서 어떤 부분이 더 추가적으로 고려되야 할지 알 수 있게 함.</p>
</div>
</div>
<p>앞서 살펴본 관찰 연구들이 모두 confounding의 위험을 안고 있기에 결정적인 인과관계를 파악하기 위해, 전통적으로 “통계학”의 시각에서 인과문제에 대해서는 보통 임상테스트에서 실시하는 RCT (randomized controlled trial)라고 부르는 소위 gold standard한 <strong>실험 연구</strong>를 통해서 해결하고자 했음<br>
개념적으로는 <strong>물리적 통제</strong>라고 볼 수 있으며, 두 그룹으로 집단을 <strong>randomly assign</strong>(무선/무작위 배정/할당)하면 모든 면에서 동질한 성향을 가짐. 예를 들어, 두 집단의 연령이 평균적으로 동일해짐.<br>
<br></p>
<p><img src="images/RCT.png" class="img-fluid" width="400"></p>
<p>Source: <a href="https://blogs.kcl.ac.uk/behaviouralinsights/2017/11/20/the-whats-and-whys-of-rcts-part-1/"><em>The whats and whys of RCTs</em></a></p>
<p>앞서 든 예에서, 걷기가 사망율에 미치는 효과를 검증하려면, 가령 600명을 300명씩 두 그룹으로 무작위로 나눈 후 한쪽은 1마일 이하를 걷도록 하고 나머지는 2마일 이상을 걷게 한 후 12년 후 사망율을 확인해야 함.</p>
<p>분야마다 효과를 제대로 검증하기 위한 많은 실험 설계들이 발전되었음 &gt;&gt; 연구방법론</p>
<p>그럼에도 불구하고, 실험 연구는 자체로 한계를 지님 - 많은 경우 실험이 불가능하며 - 실험에서 처치한 구체적인 상황에서만 유효하고 - 그 효과는 어떻게 표현할 것인가?</p>
<section id="case-1-1" class="level3">
<h3 class="anchored" data-anchor-id="case-1-1">Case 1</h3>
<p>Terror Management Theory (TMT)<br>
Self-esteem의 이론적 근거를 밝히고자 함. 왜 인간은 self-esteem을 유지하려는가?</p>
<p><img src="images/TMT.png" class="img-fluid" width="400"></p>
<p>Treatment: 자신의 죽음과 고통에 대해 생각해보고 써보도록 하고<br>
Control: 자신의 치통에 대한 질문에 답</p>
<p>고정관념에 부정적인 사람에 대해 더 부정적으로 평가: defences their own culural worldview<br>
(e.g.&nbsp;<em>Stereotypes and Terror Management: Evidence That Mortality Salience Enhances Stereotypic Thinking and Preferences</em>)</p>
<ul>
<li>모두 부정적인 감정을 불러 일으킴<br>
</li>
<li>“죽음에 대한 생각”이 정확히 이 효과를 만든 것인가?</li>
</ul>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="11">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="case-2-1" class="level3">
<h3 class="anchored" data-anchor-id="case-2-1">Case 2</h3>
<p>마시멜로우 실험, 1960’s</p>
<p><img src="images/marshmallow2.png" class="img-fluid" width="400"><br>
Source: <a href="https://www.npr.org/sections/goatsandsoda/2017/07/03/534743719/want-to-teach-your-kids-self-control-ask-a-cameroonian-farmer">Want To Teach Your Kids Self-Control?</a></p>
<p>3-5세 아이들에게 마시멜로우 1개를 놓고 원하면 먹도록 하나, 만약, 5분을 안먹고 기다리면 2개를 먹을 수 있다고 말한 후, 기다리지 못하고 먹는지를 살펴봄</p>
<p>소위 <strong>delay gratification</strong>을 self-control을 발휘한 것으로 이해했으며, 먹지 않고 기다린 아이들이 추후에 학업성취도 및 여러면에서 뛰어난 결과를 보고 하였음.</p>
<ul>
<li>아이들이 참고 기다린 것은 자력에 의한 자기통제력인가?</li>
<li>어른들 즉, 권위에 대한 복종인가?</li>
<li>더 많이 먹기 위한 욕심인가?</li>
<li>눈 앞에 이익을 빨리 취하는 것은 좋은 전략일 수 있지 않은가?</li>
</ul>
<p>혹시 실험을 진행하는 실험자에 따라 다른 효과가 나타날까? (Experimenter effects)<br>
처치(treatment)의 효과인가 처지가 일어나는 <strong>상황이</strong> 만든 효과인가?</p>
<p>마시멜로우 실험의 경우에서 아이들에게 기다리라고 지시한 experimenter들의 정보가 필요함.<br>
그럼, 각 experimenter별로 자료를 분석해야 하는가?</p>
<p>좀 더 확장하면,</p>
<ul>
<li>같은 처방을 내린 의사들에 따라 다른 효과가 나타날까?<br>
</li>
<li>의사가 속한 병원마다 다른 효과가 나타날까?<br>
</li>
<li>특정 수업방식의 효과가 학교마다 선생님마다 다르게 나타날까?</li>
</ul>
<p><strong>Multi-level analysis</strong> (mixed effect model)<br>
만약, 군집을 이루는 단위가 충분히 많다면,<br>
예를 들어, 10개의 병원에서 30명의 의사가 각각 50명의 환자에게 새롭게 개발된 처방을 처치하여 그 효과를 볼 때,</p>
<ul>
<li>병원의 효과 vs.&nbsp;의사의 효과 vs.&nbsp;처치의 효과를 분리하여 좀 더 분명한 효과를 찾을 수 있음</li>
</ul>
<p>또는, 30개의 학교에서 50명의 선생님에 의해 특정 수업의 효과를 검증할 때,</p>
<ul>
<li>학교의 효과 vs.&nbsp;선생님의 효과 vs.&nbsp;수업의 효과를 분리해 볼 수 있음</li>
</ul>
<p>분석을 위해 각 선생님 마다 혹은 학교마다 따로 분석하는 방식이 아닌 모든 샘플을 동시에 이용한 고급 통계 방법</p>
<hr>
</section>
</section>
<section id="uncertainty" class="level1">
<h1>Uncertainty</h1>
<p>관찰자가 관찰한 대상으로부터 얻은 결과를 관찰하지 않은 더 넓은 대상으로 일반화할 수 있는가?<br>
가령, 다음과 같이 150명에 대해 조사한 “연령이 임금에 미치는 효과”를 일반화 할 수 있는가?<br>
한 나라의 국민 전체?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="29">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
</div>
<p><strong>Statistical inference</strong> (통계적 추론)</p>
<p>통계학의 추론(statistical inference)은 작은 샘플(sample)로부터 얻은 분석 결과를 바탕으로 모집단(population)이라고 부르는 전체에 대해 말하고자 하는 시도에서 비롯되었음</p>
<ul>
<li>어떤 비료가 특정 콩 A의 재배에 어떤 영향을 미치는지 알기 위해 샘플 위에서 실험이 이루어지고, 그 결과가 A라는 콩의 종 전체에 얼마나 적용될 수 있을지를 알아보고자 했음<br>
</li>
<li>사람에게도 적용될 수 있는가?</li>
</ul>
<p>사실상 복잡한 통계 이론의 상당부분을 차지함.<br>
지금까지 논의한 모든 내용은 “특정 샘플”에 대한 변수들 간의 관계에 대한 분석일 뿐 그 샘플을 벗어나서 논의한 것이 아님.</p>
<p>통계적 추론의 논리는 개념적으로는 다음과 같이 의외로 간단함.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/sampling.png" class="img-fluid" width="420"><br>
Source: <em>The Truthful Art</em> by Albert Cairo.</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/bootstrap.png" class="img-fluid" width="380"></p>
</div>
</div>
</div>
<p>Linear regression results (선형 회귀)</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="41">
<div class="cell-output cell-output-display">
<div class="ansi-escaped-output">
<pre><span style="text-decoration:underline">MODEL INFO:</span>
<span style="font-style:italic">Observations:</span> 150
<span style="font-style:italic">Dependent Variable:</span> wage
<span style="font-style:italic">Type:</span> OLS linear regression 
<span style="text-decoration:underline">MODEL FIT:</span>
<span style="font-style:italic">F</span>(1,148) = 3.777, <span style="font-style:italic">p</span> = 0.054
<span style="font-style:italic">R² = </span>0.025
<span style="font-style:italic">Adj. R² = </span>0.018 
<span style="font-style:italic">Standard errors: OLS</span>
-----------------------------------------------------------
                     Est.     2.5%   97.5%   t val.       p
----------------- ------- -------- ------- -------- -------
(Intercept)         6.563    3.982   9.145    5.024   0.000
age                 0.066   -0.001   0.133    1.944   0.054
-----------------------------------------------------------</pre>
</div>
</div>
</div>
<p>맨 처음 든 예를 회귀분석하면</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="44">
<div class="cell-output cell-output-display">
<p><img src="overview_files/figure-html/cell-14-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>결혼여부에 따른 평균 임금의 차이는 미혼일 때 -0.97 (dollars/hr) 낮음.<br>
하지만, 모집단에서 그 차이는 (95% 확률로) -1.93에서 -0.02 사이에 있을 것이라고 추정할 수 있음</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="58">
<div class="cell-output cell-output-display">
<div class="ansi-escaped-output">
<pre><span style="text-decoration:underline">MODEL INFO:</span>
<span style="font-style:italic">Observations:</span> 465
<span style="font-style:italic">Dependent Variable:</span> wage
<span style="font-style:italic">Type:</span> OLS linear regression 
<span style="text-decoration:underline">MODEL FIT:</span>
<span style="font-style:italic">F</span>(1,463) = 4.02, <span style="font-style:italic">p</span> = 0.05
<span style="font-style:italic">R² = </span>0.01
<span style="font-style:italic">Adj. R² = </span>0.01 
<span style="font-style:italic">Standard errors: OLS</span>
-----------------------------------------------------------
                       Est.    2.5%   97.5%   t val.      p
------------------- ------- ------- ------- -------- ------
(Intercept)            9.35    8.80    9.90    33.34   0.00
marriedSingle         -0.97   -1.93   -0.02    -2.00   0.05
-----------------------------------------------------------</pre>
</div>
</div>
</div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>앞서 논의한데로 나이가 <strong>confounding</strong>이 될 수 있고,<br>
이를 통계적으로 통제하면,</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/path3.png" class="img-fluid" width="210"></p>
</div>
</div>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="59">
<div class="cell-output cell-output-display">
<div class="ansi-escaped-output">
<pre><span style="text-decoration:underline">MODEL INFO:</span>
<span style="font-style:italic">Observations:</span> 465
<span style="font-style:italic">Dependent Variable:</span> wage
<span style="font-style:italic">Type:</span> OLS linear regression 
<span style="text-decoration:underline">MODEL FIT:</span>
<span style="font-style:italic">F</span>(3,461) = 14.42, <span style="font-style:italic">p</span> = 0.00
<span style="font-style:italic">R² = </span>0.09
<span style="font-style:italic">Adj. R² = </span>0.08 
<span style="font-style:italic">Standard errors: OLS</span>
------------------------------------------------------------
                       Est.     2.5%   97.5%   t val.      p
------------------- ------- -------- ------- -------- ------
(Intercept)           -5.21   -10.18   -0.24    -2.06   0.04
marriedSingle          0.11    -0.87    1.09     0.23   0.82
age                    0.69     0.43    0.94     5.34   0.00
I(age^2)              -0.01    -0.01   -0.00    -4.79   0.00
------------------------------------------------------------</pre>
</div>
</div>
</div>
<p>“나이를 고려했을 때”, 미혼이 기혼보다 그 임금이 오히려 0.11 (dollars/hr) 높은데,<br>
모집단에서 그 차이는 -0.87 ~ 1.09 사이에 있을 확률이 매우 높은 것으로 추론됨. (95% 확률로)<br>
이는 사실상 임금 차이가 있다고 볼 확신을 거의 갖기 어려움</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>나이와 임금의 관계가 위의 플랏에서 나타났듯이 35세부터 일정하게 유지되는 패턴을 보이므로 그 비선형성을 단순화하여 2차 함수 꼴<span class="math inline">\((y=c+b\cdot age+a\cdot age^2)\)</span>로 모델링을 하였으나 원칙적으로는 다른 모형이 필요함</p>
</div>
</div>
</section>
<section id="그-외" class="level1">
<h1>그 외</h1>
<p>종속변수가 연속변수라고 볼 수 없는 경우들</p>
<ul>
<li>완치 여부: success vs.&nbsp;fail</li>
<li>구매 여부: yes vs.&nbsp;no</li>
<li>사건 또는 사람의 수 (count)</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2023, Sungkyun Cho</div>   
  </div>
</footer>



</body></html>